| Current pattern                                                                                                             | Issue                                                                                                         | Improvement                                                                                                                                                                                                           |
| --------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| One CSV per indicator in `data/` (e.g. `nasdaq_data.csv`, `treasury_yield_data.csv`) with bespoke `save_data_to_csv` logic  | • Many small files <br>• Slow row‑scan when dashboard is warm‑started <br>• Hard to enforce schema & indexing | **Columnar Parquet (or Feather)** per *domain* keeps compression + lightning read speed (`pd.read_parquet`).  One file called `prices.parquet` with a `(date, ticker)` index is usually fast enough up to \~5 M rows. |
| CSV append may silently duplicate rows (no primary key)                                                                     | later `.sort_values()` hides dups but inflates RAM                                                            | After append, run `df = df.drop_duplicates(subset=['date','ticker'])` **or** rely on database unique index.                                                                                                           |
| Market data mixed with macro data in the same folder                                                                        | Future maintainability / access control                                                                       | Adopt a mini‑warehouse layout:                                                                                                                                                                                        |
|                                                                                                                             |                                                                                                               | \`\`\`text                                                                                                                                                                                                            |
| data/                                                                                                                       |                                                                                                               |                                                                                                                                                                                                                       |
| macro/       gdp.parquet, cpi.parquet …                                                                                     |                                                                                                               |                                                                                                                                                                                                                       |
| market/      prices.parquet, market\_cap.parquet                                                                            |                                                                                                               |                                                                                                                                                                                                                       |
| derived/     ema20.parquet, sector\_scores.parquet                                                                          |                                                                                                               |                                                                                                                                                                                                                       |
